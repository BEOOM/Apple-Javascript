<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link rel="stylesheet" href="main.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="black-bg">
      <div class="white-bg">
        <h4>로그인하세요</h4>
        <form action="success.html">
          <div class="my-3">
            <input type="text" class="form-control" id="email" />
          </div>
          <div class="my-3">
            <input type="password" class="form-control" id="pw" />
          </div>
          <button type="submit" class="btn btn-primary" id="send">전송</button>
          <button type="button" class="btn btn-danger" id="close">닫기</button>
        </form>
      </div>
    </div>
    <!-- <button id="login">열기</button> -->
    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">SHOP</span>
        <span class="badge bg-dark" id="darklight">Dark 🔄</span>
        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>

    <ul class="list-group">
      <li class="list-group-item">An item</li>
      <li class="list-group-item">A second item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A fourth item</li>
      <li class="list-group-item">And a fifth one</li>
    </ul>

    <div class="main-bg">
      <h4>Shirts on Sale</h4>
      <button id="login" class="btn btn-danger">로그인</button>
    </div>

    <div
      style="border: 1px solid black; width: 100%; height: 5px; position: fixed"
      class="line"
    ></div>
    <div style="height: 1000px"></div>

    <div class="alert alert-danger">
      <span class="time">5</span>초 이내 구매시 사은품 증정!
    </div>

    <div style="overflow: hidden">
      <div class="slide-container">
        <div class="slide-box">
          <img src="/image/car1.png" draggable="false" />
        </div>
        <div class="slide-box">
          <img src="/image/car2.png" draggable="false" />
        </div>
        <div class="slide-box">
          <img src="/image/car3.png" draggable="false" />
        </div>
      </div>
    </div>

    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="next">다음</button>
    <button class="before">이전</button>

    <div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll">
      Lorem Ipsum is simply dummy text of the printing and typesetting industry.
      Lorem Ipsum has been the industry's standard dummy text ever since the
      1500s, when an unknown printer took a galley of type and scrambled it to
      make a type specimen book. It has survived not only five centuries, but
      also the leap into electronic typesetting, remaining essentially
      unchanged. It was popularised in the 1960s with the release of Letraset
      sheets containing Lorem Ipsum passages, and more recently with desktop
      publishing software like Aldus PageMaker including versions of Lorem
      Ipsum.
    </div>

    <script>
      //   document
      //     .getElementsByClassName("navbar-toggler")[0]
      //   ƒ  .addEventListener("click", function () {
      //       document
      //         .getElementsByClassName("list-group")[0]
      //         .classList.toggle("show");
      //     });
      document
        .querySelector(".navbar-toggler")
        .addEventListener("click", function () {
          document.querySelector(".list-group").classList.toggle("show");
        });

      //   $('.hello').css('color','red')
      // $('.hello').addClass('show')
      document.getElementById("login").addEventListener("click", function () {
        document.querySelectorAll(".black-bg")[0].classList.add("show-modal");
      });
      //   $("#login").on("click", function () {
      //     document.querySelector(".black-bg").classList.add("show-modal");
      //   });
      document.getElementById("close").addEventListener("click", function () {
        document
          .querySelectorAll(".black-bg")[0]
          .classList.remove("show-modal");
      });

      //form 태그 빈 값이면 전송 안됨 (조건문 사용)
      //   document
      //     .getElementsByClassName("btn btn-primary")[0]
      //     .addEventListener("click", function () {
      //       if (
      //         document.getElementsByClassName("form-control")[0].value.length == 0
      //       ) {
      //         alert("empty");
      //       }
      //     });

      //입력창 빈값이 아닌, 비밀번호 6자 이상
      //   $("form").on("submit", function (e) {
      //     if (
      //       document.getElementById("email").value.length == 0 ||
      //       document.getElementById("pw").value.length == 0
      //     ) {
      //       alert("empty");
      //       e.preventDefault();
      //     } else if (document.getElementById("pw").value.length < 6) {
      //       alert("비번 더 길게~");
      //       e.preventDefault();
      //     }
      //   });

      //정규식 테스트 -> 이메일 형식 검사
      $("form").on("submit", function (e) {
        e.preventDefault();
        let written = document.getElementById("email").value;
        // if (written == "") {
        //   alert("입력얀햠");
        // }
        if (/\S+@\S+.\S+/.test(written) == false) {
          alert("이메일 형식 아님");
        }
        let pwwritten = document.getElementById("pw").value;
        if (/[A-Z]/.test(pwwritten) == false) {
          alert("대문자없숑");
        }
      });

      //다크모드 버튼 -> 뱃지 클릭 시 내부 클자를 Light로 변경 / 토글 (클릭 횟수 홀수/짝수)
      //뱃지 클릭 횟수 기억해야 함 -> 변수 문법 사용 (자료 잠깐 저장)
      let count = 0;

      $(".badge").on("click", function () {
        count++;
        if (count % 2 !== 0) {
          document.getElementById("darklight").innerText = "Light🔄";
        } else {
          document.getElementById("darklight").innerText = "Dark 🔄";
        }
      });

      //5초 후에 사라지게 하는 setInterval -> 반복적으로 실행하도록
      //콜백자리에 만들어둔 함수 넣을 수 있다
      //   setTimeout(function () {
      //     $(".alert").hide();
      //   }, 1000);

      //1초마다 1씩 감소 -> 0이 되었을 때 div 사라지도록
      var A = 5;
      //   if (A > 0) {
      //     setInterval(function () {
      //       $(".time").html(A);
      //     }, 1000);
      //   } else if (A == 0) {
      //     clearInterval();
      //     clearTimeout();
      //     $(".alert").hide();
      //   }

      setInterval(function () {
        A -= 1;
        if (A >= 0) {
          document.querySelector(".time").innerHTML = A;
        }
      }, 1000);

      //이미지 위에서 드래그한 거리만큼 박스 이동
      var start = 0;
      var clicked = false;

      $(".slide-box")
        .eq(0)
        .on("mousedown", function (e) {
          start = e.clientX;
          clicked = true;
        });

      $(".slide-box")
        .eq(0)
        .on("mousemove", function (e) {
          if (clicked == true && e.clientX - start < -100) {
            $(".slide-container").css(
              "transform",
              `translateX(${e.clientX - start}px)`
            );
          }
        });

      $(".slide-box")
        .eq(0)
        .on("mouseup", function (e) {
          clicked = false;
          if (e.clientX - start < -100) {
            $(".slide-container")
              .css("transition", "all 0.5s")
              .css("transform", "translateX(-100vw)");
          } else {
            $(".slide-container")
              .css("transition", "all 0.5s")
              .css("transform", "translateX(0vw)");
          }
          setTimeout(() => {
            $(".slide-container").css("transition", "none");
          }, 500);
        });

      //버튼 클릭 시 이미지 이동
      $(".slide-1").on("click", function () {
        $(".slide-container").css("transform", "translateX(0vw)");
        now += 1;
      });

      $(".slide-2").on("click", function () {
        $(".slide-container").css("transform", "translateX(-100vw)");
        now += 1;
      });

      $(".slide-3").on("click", function () {
        $(".slide-container").css("transform", "translateX(-200vw)");
        now += 1;
      });

      //다음 버튼
      let now = 1;

      //   $(".next").on("click", function () {
      //     if (now == 1) {
      //       $(".slide-container").css("transform", "translateX(-100vw)");
      //       now += 1;
      //     } else if (now == 2) {
      //       $(".slide-container").css("transform", "translateX(-200vw)");
      //       now += 1;
      //     }
      //   });

      $(".next").on("click", function () {
        $(".slide-container").css("transform", `translateX(-${now}00vw)`);
        now += 1;
      });

      //이전 버튼
      //   $(".before").on("click", function () {
      //     if (now == 3) {
      //       $(".slide-container").css("transform", "translateX(-100vw)");
      //       now -= 1;
      //     } else if (now == 2) {
      //       $(".slide-container").css("transform", "translateX(0vw)");
      //       now -= 1;
      //     }
      //   });
      $(".before").on("click", function () {
        now -= 1;
        $(".slide-container").css("transform", `translateX(-${now}00vw)`);
      });

      //스크롤바 얼마나 내렸는지
      window.addEventListener("scroll", function () {
        if (window.scrollY >= 100) {
          $(".navbar-brand").css("font-size", "100px");
          $(".line").css("border", "5px solid red");
        } else {
          $(".navbar-brand").css("font-size", "20px");
        }
      });

      //   $(window).on("scroll", function () {
      //     $(window).scrollTop;
      //   });

      //동의약관
      //   document.querySelector('.lorem').addEventListener()

      $(".lorem").on("scroll", function () {
        let 스크롤양 = document.querySelector(".lorem").scrollTop;
        let 실제높이 = document.querySelector(".lorem").scrollHeight;
        let 높이 = document.querySelector(".lorem").clientHeight;

        if (스크롤양 + 높이 > 실제높이 - 100) {
          alert("동의약관?");
        }
      });

      //모달창 배경 검정색 누르면 꺼지게 하는 기능
      document
        .querySelector(".black-bg")
        .addEventListener("click", function (e) {
          if (e.target == document.querySelector(".black-bg")) {
            document
              .querySelectorAll(".black-bg")[0]
              .classList.remove("show-modal");
          }
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
